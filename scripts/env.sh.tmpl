#!/bin/bash

# mandatory
AMI_ID="ami-8ac04ff9" # ubuntu 16.04 eu-west-1
COUNT_WORKERS=3
INSTANCE_TYPE_WORKERS="m4.large"
INSTANCE_TYPE_SERVERS="m4.large"
SSH_KEYNAME=
INSTANCE_PROFILE=  # iam role arn to use for the ec2-instances (must have enough policies see: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ecs.html)
VPC_ID=
SECURITY_GROUP_ID=
SUBNET_ID=
ELB_SUBNET_IDS=

# above values can also be derived with aws-cli commands. It's easier to remember VPC_NAME instead of VPC_ID etc.
# VPC_NAME=
# SUBNET_NAME=
# ELB_SUBNET_NAMES=
# VPC_ID=$(aws ec2 describe-vpcs --filters "Name=tag:Name,Values=$VPC_NAME" | jq -r ".Vpcs[0].VpcId")
# SECURITY_GROUP_ID=$(aws ec2 describe-security-groups \
#                         --group-names default --filters "Name=vpc-id,Values=$VPC_ID" | jq -r ".SecurityGroups[].GroupId")
# SUBNET_ID=$(aws ec2 describe-subnets \
#                 --filters "Name=tag:Name,Values=$SUBNET_NAME" \
#                 | jq -r ".Subnets[0].SubnetId")
# ELB_SUBNET_IDS=$(aws ec2 describe-subnets --filters "Name=tag:Name,Values=$ELB_SUBNET_NAMES" \
#                      | jq -r ".Subnets[].SubnetId" | tr "\n" " " | sed 's/ $//';)
